<div class="bg-gray-50 min-h-screen">
  <!-- Hero -->
  <section class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
    <div class="max-w-7xl mx-auto px-4 py-20 text-center">
      <h1 class="text-5xl font-extrabold mb-4">Welcome to StackShop</h1>
      <p class="text-xl mb-8 opacity-90">Your one-stop shop for everything you need</p>
      <a routerLink="/products"
        class="inline-block bg-white text-indigo-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
        Browse Products
      </a>
    </div>
  </section>

  <!-- Categories -->
  @if (categories.length > 0) {
    <section class="max-w-7xl mx-auto px-4 py-12">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Shop by Category</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
        @for (cat of categories; track cat.categoryId) {
          <a [routerLink]="['/products']" [queryParams]="{ category: cat.categoryId }"
            class="bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer">
            <div class="w-12 h-12 mx-auto mb-2 bg-indigo-100 rounded-full flex items-center justify-center">
              <span class="text-indigo-600 text-xl">üì¶</span>
            </div>
            <p class="text-sm font-medium text-gray-700">{{ cat.categoryName }}</p>
          </a>
        }
      </div>
    </section>
  }

  <!-- Featured Products -->
  <section class="max-w-7xl mx-auto px-4 py-12">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Featured Products</h2>

    @if (loading) {
      <div class="text-center py-12 text-gray-400">Loading products...</div>
    } @else if (products.length === 0) {
      <div class="text-center py-12 text-gray-400">No products available yet.</div>
    } @else {
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        @for (product of products; track product.productId) {
          <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition">
            <div class="h-48 bg-gray-200 flex items-center justify-center">
              @if (product.image && product.image !== 'default.png') {
                <img [src]="'http://localhost:5000/images/' + product.image" [alt]="product.productName"
                  class="h-full w-full object-cover" />
              } @else {
                <span class="text-6xl">üõçÔ∏è</span>
              }
            </div>
            <div class="p-4">
              <h3 class="font-semibold text-gray-800 truncate">{{ product.productName }}</h3>
              <p class="text-sm text-gray-500 mt-1 line-clamp-2">{{ product.description }}</p>
              <div class="flex items-center justify-between mt-3">
                <div>
                  @if (product.discount > 0) {
                    <span class="text-sm text-gray-400 line-through">${{ product.price }}</span>
                    <span class="text-lg font-bold text-indigo-600 ml-1">${{ product.specialPrice }}</span>
                  } @else {
                    <span class="text-lg font-bold text-indigo-600">${{ product.price }}</span>
                  }
                </div>
                @if (auth.isLoggedIn()) {
                  <button (click)="addToCart(product.productId)"
                    class="bg-indigo-600 text-white text-sm px-3 py-1.5 rounded-lg hover:bg-indigo-700 transition">
                    Add to Cart
                  </button>
                }
              </div>
            </div>
          </div>
        }
      </div>

      <div class="text-center mt-8">
        <a routerLink="/products"
          class="text-indigo-600 font-medium hover:underline">View all products ‚Üí</a>
      </div>
    }
  </section>
</div>
